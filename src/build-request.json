{
  "kind": "build_request",
  "title": "Fix PDF import fidelity (symbols/formatting/figures) and add delete-question option",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Improve PDF-to-question extraction so imported questions preserve all Unicode symbols (e.g., λ, π), line breaks, and spacing as closely as possible to the source PDF; ensure the preview and the saved question content match exactly what was extracted (no normalization that removes symbols or collapses whitespace).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6",
          "msg-11"
        ],
        "quotes": [
          "Why question show something wrong please open them and when I upload it does not include sylbols of Lambda  Pi like symbols and all other please include in question everything which is in PDF including symbols different figures exactly like which is in PDF",
          "Ok retry it and make it happen"
        ]
      },
      "acceptanceCriteria": [
        "Importing a PDF containing λ, π, and other special characters shows those characters correctly in the import preview.",
        "After saving, the same characters and formatting (line breaks and spacing) appear identically anywhere the question is displayed (e.g., contributor view, practice flow, results review).",
        "If a PDF has no extractable text, the user sees a clear error message indicating the PDF is scanned/image-only and cannot be imported as text."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update PDF import to include figures/diagrams from the PDF in the imported questions so that questions display figures as part of the question content as closely as possible to the original PDF; figures must be visible in the import preview and after saving when viewing/practicing the question.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-6",
          "msg-11"
        ],
        "quotes": [
          "please include in question everything which is in PDF including symbols different figures exactly like which is in PDF",
          "Ok retry it and make it happen"
        ]
      },
      "acceptanceCriteria": [
        "If a question in the source PDF includes a figure/diagram, the imported question preview includes that figure/diagram.",
        "After saving, the question continues to display the figure/diagram in the same question wherever it is rendered in the app.",
        "Figure handling does not break import for PDFs without figures (those imports still work as before)."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Add a delete option for questions in the question management UI, wired to the existing backend deleteQuestion function, with a confirmation step and automatic refresh of question lists after deletion; only admins should be allowed to perform deletion and non-admins must not be shown a working delete control.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7",
          "msg-11"
        ],
        "quotes": [
          "Also make a option of deleting the questions",
          "Ok retry it and make it happen"
        ]
      },
      "acceptanceCriteria": [
        "Admins can delete a question via the UI and the question is removed from the list without requiring a full page reload.",
        "A confirmation prompt is shown before permanently deleting a question.",
        "Non-admin users cannot successfully delete questions (and do not see an enabled delete control)."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useInternetIdentity.tsx, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or anything under frontend/src/components/ui (compose these components instead).",
    "Backend must remain a single Motoko actor in backend/main.mo; only introduce backend state migrations if strictly required by data model changes."
  ],
  "nonGoals": [
    "Adding third-party OCR or external services to extract text/figures from scanned PDFs.",
    "Implementing real-time collaboration or chat around questions.",
    "Changing authentication providers (must remain Internet Identity)."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}